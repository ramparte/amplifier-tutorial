<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>LSP Python - Amplifier Tutorial</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "LSP Python";
        var mkdocs_page_input_path = "bundles/lsp-python.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/python.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/bash.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Amplifier Tutorial
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Getting Started</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../quickstart/index.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../quickstart/what-is-amplifier.html">What is Amplifier?</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../quickstart/how-its-different.html">How It's Different</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../quickstart/installation.html">Installation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../quickstart/first-conversation.html">Your First Conversation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../quickstart/key-commands.html">Key Commands</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../quickstart/first-bundle.html">Your First Bundle</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Core Concepts</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../concepts/index.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../concepts/architecture.html">Architecture Deep Dive</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../concepts/modules.html">Modules</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../concepts/bundles.html">Bundles</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../concepts/agents.html">Agents</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../concepts/recipes.html">Recipes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../concepts/skills.html">Skills</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../concepts/hooks.html">Hooks</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Tools Reference</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../tools/index.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tools/filesystem.html">Filesystem</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tools/bash.html">Bash</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tools/search.html">Search (grep & glob)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tools/web.html">Web Tools</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tools/task.html">Task (Sub-Agents)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tools/lsp.html">LSP (Code Intelligence)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tools/recipes-tool.html">Recipes Tool</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Bundles Reference</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="foundation.html">Foundation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="recipes.html">Recipes</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="lsp-python.html">LSP Python</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#whats-included">What's Included</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#lsp-tool-pyright">LSP Tool (Pyright)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#python-code-intel-agent">python-code-intel Agent</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#when-to-use">When to Use</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#use-lsp-python-bundle-when">Use LSP Python Bundle When</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#use-grep-instead-when">Use Grep Instead When</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#quick-decision-guide">Quick Decision Guide</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#try-it-yourself">Try It Yourself</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#basic-operations">Basic Operations</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#call-hierarchy-operations">Call Hierarchy Operations</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#using-the-python-code-intel-agent">Using the python-code-intel Agent</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#lsp-vs-grep-a-practical-comparison">LSP vs Grep: A Practical Comparison</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#configuration">Configuration</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#pyright-configuration">Pyright Configuration</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#tips-for-effective-use">Tips for Effective Use</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#common-patterns">Common Patterns</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#pattern-refactoring-impact-analysis">Pattern: Refactoring Impact Analysis</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#pattern-understanding-new-codebases">Pattern: Understanding New Codebases</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#pattern-debugging-type-errors">Pattern: Debugging Type Errors</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#related-bundles">Related Bundles</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#summary">Summary</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="design-intelligence.html">Design Intelligence</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Skills Reference</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../skills/index.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../skills/playwright.html">Playwright</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../skills/curl.html">Curl</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../skills/image-vision.html">Image Vision</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Developer Setup</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../dev-setup/index.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../dev-setup/cli-tools.html">CLI Tools</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../dev-setup/shadow-workspace.html">Shadow Workspace</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../dev-setup/remote-dev.html">Remote Development</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../dev-setup/debugging.html">Debugging</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Advanced</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../advanced/index.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../advanced/custom-bundle.html">Custom Bundles</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../advanced/custom-tool.html">Custom Tools</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../advanced/custom-recipe.html">Custom Recipes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../advanced/mcp-integration.html">MCP Integration</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Amplifier Tutorial</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Bundles Reference</li>
      <li class="breadcrumb-item active">LSP Python</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="lsp-python-bundle">LSP Python Bundle<a class="headerlink" href="#lsp-python-bundle" title="Permanent link">&para;</a></h1>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>The LSP Python bundle provides semantic code intelligence for Python codebases using the Language Server Protocol (LSP) powered by Pyright. Unlike text-based search tools like grep, LSP understands your code's actual structure—types, references, call hierarchies, and more.</p>
<p>This bundle transforms how you navigate and understand Python code by providing:</p>
<ul>
<li><strong>Precise symbol lookup</strong>: Find exact definitions, not text matches</li>
<li><strong>Semantic references</strong>: Find actual usages, excluding comments and strings</li>
<li><strong>Type inference</strong>: Get types even without explicit annotations</li>
<li><strong>Call hierarchy</strong>: Trace what calls a function and what it calls</li>
</ul>
<h2 id="whats-included">What's Included<a class="headerlink" href="#whats-included" title="Permanent link">&para;</a></h2>
<h3 id="lsp-tool-pyright">LSP Tool (Pyright)<a class="headerlink" href="#lsp-tool-pyright" title="Permanent link">&para;</a></h3>
<p>The bundle configures and provides access to Pyright, Microsoft's static type checker for Python, as an LSP server. This gives you access to powerful code intelligence operations:</p>
<table>
<thead>
<tr>
<th>Operation</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>goToDefinition</code></td>
<td>Jump to where a symbol is defined</td>
</tr>
<tr>
<td><code>findReferences</code></td>
<td>Find all usages of a symbol</td>
</tr>
<tr>
<td><code>hover</code></td>
<td>Get type information and documentation</td>
</tr>
<tr>
<td><code>documentSymbol</code></td>
<td>List all symbols in a file</td>
</tr>
<tr>
<td><code>workspaceSymbol</code></td>
<td>Search for symbols across the workspace</td>
</tr>
<tr>
<td><code>goToImplementation</code></td>
<td>Find implementations of abstract methods</td>
</tr>
<tr>
<td><code>prepareCallHierarchy</code></td>
<td>Prepare call hierarchy for a symbol</td>
</tr>
<tr>
<td><code>incomingCalls</code></td>
<td>Find what calls a function</td>
</tr>
<tr>
<td><code>outgoingCalls</code></td>
<td>Find what a function calls</td>
</tr>
</tbody>
</table>
<h3 id="python-code-intel-agent">python-code-intel Agent<a class="headerlink" href="#python-code-intel-agent" title="Permanent link">&para;</a></h3>
<p>A specialized agent for complex, multi-step Python code navigation tasks. The agent excels at:</p>
<ul>
<li>Tracing inheritance chains across multiple files</li>
<li>Mapping module dependencies</li>
<li>Understanding type flows through your codebase</li>
<li>Building comprehensive call graphs</li>
<li>Debugging type mismatches</li>
</ul>
<h2 id="when-to-use">When to Use<a class="headerlink" href="#when-to-use" title="Permanent link">&para;</a></h2>
<h3 id="use-lsp-python-bundle-when">Use LSP Python Bundle When<a class="headerlink" href="#use-lsp-python-bundle-when" title="Permanent link">&para;</a></h3>
<p><strong>Finding where something is defined:</strong></p>
<div class="codehilite"><pre><span></span><code>&quot;Where is the Session class defined?&quot;
→ goToDefinition gives exact file:line, not grep&#39;s multiple matches
</code></pre></div>

<p><strong>Finding all usages of a symbol:</strong></p>
<div class="codehilite"><pre><span></span><code>&quot;What uses the authenticate() method?&quot;
→ findReferences returns actual code usages, ignoring comments/strings
</code></pre></div>

<p><strong>Getting type information:</strong></p>
<div class="codehilite"><pre><span></span><code>&quot;What type does get_connection() return?&quot;
→ hover shows inferred types even without annotations
</code></pre></div>

<p><strong>Tracing call relationships:</strong></p>
<div class="codehilite"><pre><span></span><code>&quot;What functions call handle_request()?&quot;
→ incomingCalls maps the complete caller graph
</code></pre></div>

<p><strong>Understanding complex codebases:</strong></p>
<div class="codehilite"><pre><span></span><code>&quot;Map the authentication flow from login to session creation&quot;
→ python-code-intel agent traces multi-step paths
</code></pre></div>

<h3 id="use-grep-instead-when">Use Grep Instead When<a class="headerlink" href="#use-grep-instead-when" title="Permanent link">&para;</a></h3>
<ul>
<li>Searching for text patterns (log messages, comments, TODOs)</li>
<li>Finding configuration values or magic strings</li>
<li>Bulk text search across many files</li>
<li>Searching non-Python files</li>
</ul>
<h3 id="quick-decision-guide">Quick Decision Guide<a class="headerlink" href="#quick-decision-guide" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Task</th>
<th>Tool</th>
</tr>
</thead>
<tbody>
<tr>
<td>"Find definition of X"</td>
<td>LSP <code>goToDefinition</code></td>
</tr>
<tr>
<td>"Find all callers of X"</td>
<td>LSP <code>incomingCalls</code></td>
</tr>
<tr>
<td>"Find text 'ERROR' in logs"</td>
<td>grep</td>
</tr>
<tr>
<td>"What type is X?"</td>
<td>LSP <code>hover</code></td>
</tr>
<tr>
<td>"Find TODO comments"</td>
<td>grep</td>
</tr>
<tr>
<td>"Trace the auth flow"</td>
<td>python-code-intel agent</td>
</tr>
</tbody>
</table>
<h2 id="try-it-yourself">Try It Yourself<a class="headerlink" href="#try-it-yourself" title="Permanent link">&para;</a></h2>
<h3 id="basic-operations">Basic Operations<a class="headerlink" href="#basic-operations" title="Permanent link">&para;</a></h3>
<p><strong>1. Go to Definition</strong></p>
<p>Find where a symbol is defined:</p>
<div class="codehilite"><pre><span></span><code>LSP operation: goToDefinition
file_path: src/auth/login.py
line: 42
character: 15
</code></pre></div>

<p>This returns the exact file and line where the symbol at that position is defined.</p>
<p><strong>2. Find References</strong></p>
<p>Find all usages of a symbol:</p>
<div class="codehilite"><pre><span></span><code>LSP operation: findReferences
file_path: src/models/user.py
line: 10
character: 7
</code></pre></div>

<p>Returns every location where <code>User</code> (or whatever symbol is at that position) is referenced.</p>
<p><strong>3. Hover for Type Info</strong></p>
<p>Get type information and docstrings:</p>
<div class="codehilite"><pre><span></span><code>LSP operation: hover
file_path: src/utils/cache.py
line: 25
character: 12
</code></pre></div>

<p>Returns the inferred type, function signature, and any docstring.</p>
<p><strong>4. Document Symbols</strong></p>
<p>List all symbols in a file:</p>
<div class="codehilite"><pre><span></span><code>LSP operation: documentSymbol
file_path: src/services/payment.py
line: 1
character: 1
</code></pre></div>

<p>Returns classes, functions, variables, and their locations in the file.</p>
<p><strong>5. Workspace Symbol Search</strong></p>
<p>Search for symbols across the entire workspace:</p>
<div class="codehilite"><pre><span></span><code>LSP operation: workspaceSymbol
query: &quot;authenticate&quot;
file_path: src/main.py
line: 1
character: 1
</code></pre></div>

<p>Finds all symbols matching the query pattern.</p>
<h3 id="call-hierarchy-operations">Call Hierarchy Operations<a class="headerlink" href="#call-hierarchy-operations" title="Permanent link">&para;</a></h3>
<p><strong>6. Prepare Call Hierarchy</strong></p>
<p>Prepare a symbol for call hierarchy analysis:</p>
<div class="codehilite"><pre><span></span><code>LSP operation: prepareCallHierarchy
file_path: src/api/handlers.py
line: 55
character: 8
</code></pre></div>

<p><strong>7. Incoming Calls</strong></p>
<p>Find what calls a function (callers):</p>
<div class="codehilite"><pre><span></span><code>LSP operation: incomingCalls
file_path: src/api/handlers.py
line: 55
character: 8
</code></pre></div>

<p><strong>8. Outgoing Calls</strong></p>
<p>Find what a function calls (callees):</p>
<div class="codehilite"><pre><span></span><code>LSP operation: outgoingCalls
file_path: src/api/handlers.py
line: 55
character: 8
</code></pre></div>

<h3 id="using-the-python-code-intel-agent">Using the python-code-intel Agent<a class="headerlink" href="#using-the-python-code-intel-agent" title="Permanent link">&para;</a></h3>
<p>For complex navigation tasks, delegate to the specialized agent:</p>
<p><strong>Example: Tracing a Feature Flow</strong></p>
<div class="codehilite"><pre><span></span><code>Task: &quot;Trace how user authentication works from the login endpoint 
       to session creation, including all intermediate function calls&quot;

Agent: python-code-intel

The agent will:
1. Find the login endpoint definition
2. Trace outgoing calls to identify authentication logic
3. Follow the call chain to session creation
4. Build a complete map of the flow
5. Return a structured summary with file:line references
</code></pre></div>

<p><strong>Example: Finding All Implementations</strong></p>
<div class="codehilite"><pre><span></span><code>Task: &quot;Find all classes that implement the PaymentProcessor interface
       and show their process_payment method signatures&quot;

Agent: python-code-intel

The agent will:
1. Locate the PaymentProcessor base class
2. Find all implementations using goToImplementation
3. Extract method signatures using hover
4. Return a comparison of all implementations
</code></pre></div>

<p><strong>Example: Debugging Type Issues</strong></p>
<div class="codehilite"><pre><span></span><code>Task: &quot;The function get_user_data() is returning the wrong type somewhere.
       Trace all the places it&#39;s called and check the expected vs actual types&quot;

Agent: python-code-intel

The agent will:
1. Get the return type of get_user_data()
2. Find all call sites using incomingCalls
3. Check type expectations at each call site
4. Identify type mismatches
5. Report findings with specific locations
</code></pre></div>

<h2 id="lsp-vs-grep-a-practical-comparison">LSP vs Grep: A Practical Comparison<a class="headerlink" href="#lsp-vs-grep-a-practical-comparison" title="Permanent link">&para;</a></h2>
<p>Consider searching for uses of a function called <code>validate</code>:</p>
<p><strong>With grep:</strong></p>
<div class="codehilite"><pre><span></span><code>grep -r &quot;validate&quot; src/
</code></pre></div>

<p>Returns:
- Actual function calls: <code>validate(data)</code>
- Comments: <code># TODO: validate input</code>
- Strings: <code>"Please validate your email"</code>
- Other functions: <code>validate_email()</code>, <code>revalidate()</code>
- Variable names: <code>is_validated = True</code></p>
<p><strong>With LSP findReferences:</strong></p>
<div class="codehilite"><pre><span></span><code>LSP findReferences on validate function
</code></pre></div>

<p>Returns:
- Only actual references to that specific function
- No false positives from comments or strings
- No confusion with similarly-named symbols</p>
<h2 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link">&para;</a></h2>
<p>The LSP Python bundle requires Pyright to be available. It's typically configured in your bundle composition:</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Example bundle including LSP Python</span>
<span class="nt">extends</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">lsp-python</span>

<span class="c1"># Pyright will use pyrightconfig.json or pyproject.toml</span>
<span class="c1"># from your project root for configuration</span>
</code></pre></div>

<h3 id="pyright-configuration">Pyright Configuration<a class="headerlink" href="#pyright-configuration" title="Permanent link">&para;</a></h3>
<p>Create a <code>pyrightconfig.json</code> in your project root for best results:</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;include&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;src&quot;</span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;exclude&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;**/node_modules&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;**/__pycache__&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;.venv&quot;</span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;venvPath&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;.&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;venv&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;.venv&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;typeCheckingMode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;basic&quot;</span>
<span class="p">}</span>
</code></pre></div>

<h2 id="tips-for-effective-use">Tips for Effective Use<a class="headerlink" href="#tips-for-effective-use" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p><strong>Position matters</strong>: LSP operations work on specific positions. Place the cursor on the symbol you want to analyze.</p>
</li>
<li>
<p><strong>Let Pyright index first</strong>: Large codebases may need a moment for initial indexing.</p>
</li>
<li>
<p><strong>Use the agent for multi-step tasks</strong>: Single operations go direct to LSP; complex traces delegate to python-code-intel.</p>
</li>
<li>
<p><strong>Combine with grep strategically</strong>: Use LSP for semantic queries, grep for text patterns.</p>
</li>
<li>
<p><strong>Check virtual environments</strong>: Ensure Pyright can find your project's dependencies for accurate type inference.</p>
</li>
</ol>
<h2 id="common-patterns">Common Patterns<a class="headerlink" href="#common-patterns" title="Permanent link">&para;</a></h2>
<h3 id="pattern-refactoring-impact-analysis">Pattern: Refactoring Impact Analysis<a class="headerlink" href="#pattern-refactoring-impact-analysis" title="Permanent link">&para;</a></h3>
<p>Before renaming or modifying a function:
1. Use <code>findReferences</code> to find all usages
2. Use <code>incomingCalls</code> to understand the call graph
3. Use <code>hover</code> at each call site to check type expectations</p>
<h3 id="pattern-understanding-new-codebases">Pattern: Understanding New Codebases<a class="headerlink" href="#pattern-understanding-new-codebases" title="Permanent link">&para;</a></h3>
<p>When exploring unfamiliar code:
1. Use <code>documentSymbol</code> to see file structure
2. Use <code>workspaceSymbol</code> to find entry points
3. Use <code>outgoingCalls</code> to trace execution flow
4. Delegate complex traces to python-code-intel agent</p>
<h3 id="pattern-debugging-type-errors">Pattern: Debugging Type Errors<a class="headerlink" href="#pattern-debugging-type-errors" title="Permanent link">&para;</a></h3>
<p>When facing type mismatches:
1. Use <code>hover</code> to get inferred types
2. Use <code>goToDefinition</code> to check type definitions
3. Trace the data flow with call hierarchy operations</p>
<h2 id="related-bundles">Related Bundles<a class="headerlink" href="#related-bundles" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>lsp</strong>: Base LSP bundle (required dependency)</li>
<li><strong>foundation</strong>: Core development tools</li>
</ul>
<h2 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">&para;</a></h2>
<p>The LSP Python bundle brings IDE-level code intelligence to your Amplifier workflow. By understanding your code semantically rather than as text, it enables precise navigation, accurate refactoring, and deep code understanding—all accessible through simple tool operations or the specialized python-code-intel agent.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="recipes.html" class="btn btn-neutral float-left" title="Recipes"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="design-intelligence.html" class="btn btn-neutral float-right" title="Design Intelligence">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="recipes.html" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="design-intelligence.html" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
