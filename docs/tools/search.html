<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Search (grep & glob) - Amplifier Tutorial</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Search (grep \u0026 glob)";
        var mkdocs_page_input_path = "tools/search.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/python.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/bash.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Amplifier Tutorial
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Getting Started</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../quickstart/index.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../quickstart/what-is-amplifier.html">What is Amplifier?</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../quickstart/how-its-different.html">How It's Different</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../quickstart/installation.html">Installation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../quickstart/first-conversation.html">Your First Conversation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../quickstart/key-commands.html">Key Commands</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../quickstart/first-bundle.html">Your First Bundle</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Core Concepts</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../concepts/index.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../concepts/architecture.html">Architecture Deep Dive</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../concepts/modules.html">Modules</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../concepts/bundles.html">Bundles</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../concepts/agents.html">Agents</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../concepts/recipes.html">Recipes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../concepts/skills.html">Skills</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../concepts/hooks.html">Hooks</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Tools Reference</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="filesystem.html">Filesystem</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="bash.html">Bash</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="search.html">Search (grep & glob)</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#when-to-use-each">When to Use Each</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#glob-patterns">Glob Patterns</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#basic-patterns">Basic Patterns</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#pattern-syntax">Pattern Syntax</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#common-use-cases">Common Use Cases</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#glob-parameters">Glob Parameters</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#glob-output">Glob Output</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#grep-patterns">Grep Patterns</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#basic-patterns_1">Basic Patterns</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#regex-syntax">Regex Syntax</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#output-modes">Output Modes</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#1-files_with_matches-default">1. files_with_matches (Default)</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#2-content">2. content</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#3-count">3. count</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#content-mode-features">Content Mode Features</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#file-filtering">File Filtering</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#multiline-patterns">Multiline Patterns</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#pagination">Pagination</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#combining-tools">Combining Tools</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#pattern-1-narrow-down-files-first">Pattern 1: Narrow Down Files First</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#pattern-2-search-then-explore">Pattern 2: Search Then Explore</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#pattern-3-iterative-refinement">Pattern 3: Iterative Refinement</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#best-practices">Best Practices</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#performance-tips">Performance Tips</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#search-strategy">Search Strategy</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#common-patterns">Common Patterns</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#try-it-yourself">Try It Yourself</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#exercise-1-find-all-tests">Exercise 1: Find All Tests</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#exercise-2-find-unused-imports">Exercise 2: Find Unused Imports</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#exercise-3-configuration-audit">Exercise 3: Configuration Audit</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#exercise-4-code-complexity">Exercise 4: Code Complexity</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#common-errors">Common Errors</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#glob-errors">Glob Errors</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#grep-errors">Grep Errors</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#pro-tips">Pro Tips</a>
    </li>
        </ul>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="web.html">Web Tools</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="task.html">Task (Sub-Agents)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="lsp.html">LSP (Code Intelligence)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="recipes-tool.html">Recipes Tool</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Bundles Reference</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../bundles/index.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../bundles/foundation.html">Foundation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../bundles/recipes.html">Recipes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../bundles/lsp-python.html">LSP Python</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../bundles/design-intelligence.html">Design Intelligence</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Skills Reference</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../skills/index.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../skills/playwright.html">Playwright</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../skills/curl.html">Curl</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../skills/image-vision.html">Image Vision</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Developer Setup</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../dev-setup/index.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../dev-setup/cli-tools.html">CLI Tools</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../dev-setup/shadow-workspace.html">Shadow Workspace</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../dev-setup/remote-dev.html">Remote Development</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../dev-setup/debugging.html">Debugging</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Advanced</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../advanced/index.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../advanced/custom-bundle.html">Custom Bundles</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../advanced/custom-tool.html">Custom Tools</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../advanced/custom-recipe.html">Custom Recipes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../advanced/mcp-integration.html">MCP Integration</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Amplifier Tutorial</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Tools Reference</li>
      <li class="breadcrumb-item active">Search (grep & glob)</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="search-tools-grep-glob">Search Tools (grep &amp; glob)<a class="headerlink" href="#search-tools-grep-glob" title="Permanent link">&para;</a></h1>
<p>Master the art of finding files and searching content across your codebase. The <code>grep</code> and <code>glob</code> tools are your primary search capabilities for navigating projects of any size.</p>
<h2 id="when-to-use-each">When to Use Each<a class="headerlink" href="#when-to-use-each" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Task</th>
<th>Tool</th>
<th>Why</th>
</tr>
</thead>
<tbody>
<tr>
<td>Find files by name/extension</td>
<td><code>glob</code></td>
<td>Fast pattern matching on file paths</td>
</tr>
<tr>
<td>Search inside file contents</td>
<td><code>grep</code></td>
<td>Regex-based content search</td>
</tr>
<tr>
<td>Find all Python files</td>
<td><code>glob</code></td>
<td>Use <code>**/*.py</code> pattern</td>
</tr>
<tr>
<td>Find TODO comments</td>
<td><code>grep</code></td>
<td>Search for <code>TODO:</code> in code</td>
</tr>
<tr>
<td>List all test files</td>
<td><code>glob</code></td>
<td>Match <code>**/test_*.py</code> or <code>*.test.js</code></td>
</tr>
<tr>
<td>Find function definitions</td>
<td><code>grep</code></td>
<td>Regex like <code>function\s+\w+</code></td>
</tr>
<tr>
<td>Locate config files</td>
<td><code>glob</code></td>
<td>Match <code>**/*.{json,yaml,toml}</code></td>
</tr>
<tr>
<td>Find import statements</td>
<td><code>grep</code></td>
<td>Search for <code>import.*Module</code></td>
</tr>
</tbody>
</table>
<p><strong>Quick Decision Guide:</strong>
- Know the filename? → Use <code>glob</code>
- Know what's <em>inside</em> the file? → Use <code>grep</code>
- Need both? → Combine them!</p>
<h2 id="glob-patterns">Glob Patterns<a class="headerlink" href="#glob-patterns" title="Permanent link">&para;</a></h2>
<p>Glob finds files by matching path patterns. Think of it as a smart file finder.</p>
<h3 id="basic-patterns">Basic Patterns<a class="headerlink" href="#basic-patterns" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># Find all Python files in current directory</span>
*.py

<span class="c1"># Find all Python files recursively</span>
**/*.py

<span class="c1"># Find all JavaScript and TypeScript files</span>
**/*.<span class="o">{</span>js,ts<span class="o">}</span>

<span class="c1"># Find all test files</span>
**/test_*.py
**/*_test.go
**/*.test.js
</code></pre></div>

<h3 id="pattern-syntax">Pattern Syntax<a class="headerlink" href="#pattern-syntax" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Pattern</th>
<th>Matches</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>*</code></td>
<td>Any characters (except <code>/</code>)</td>
<td><code>*.md</code> → <code>README.md</code></td>
</tr>
<tr>
<td><code>**</code></td>
<td>Any directories recursively</td>
<td><code>**/src/*.js</code></td>
</tr>
<tr>
<td><code>?</code></td>
<td>Single character</td>
<td><code>test?.py</code> → <code>test1.py</code></td>
</tr>
<tr>
<td><code>[abc]</code></td>
<td>Any character in brackets</td>
<td><code>file[123].txt</code></td>
</tr>
<tr>
<td><code>{a,b}</code></td>
<td>Either a or b</td>
<td><code>*.{js,ts}</code></td>
</tr>
</tbody>
</table>
<h3 id="common-use-cases">Common Use Cases<a class="headerlink" href="#common-use-cases" title="Permanent link">&para;</a></h3>
<p><strong>Find all source files:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Python project</span>
**/*.py

<span class="c1"># JavaScript/TypeScript project</span>
**/*.<span class="o">{</span>js,ts,jsx,tsx<span class="o">}</span>

<span class="c1"># Rust project</span>
**/*.rs
</code></pre></div>

<p><strong>Find configuration files:</strong></p>
<div class="codehilite"><pre><span></span><code>**/*.<span class="o">{</span>json,yaml,yml,toml,ini<span class="o">}</span>
</code></pre></div>

<p><strong>Find documentation:</strong></p>
<div class="codehilite"><pre><span></span><code>**/*.md
**/docs/**/*.md
</code></pre></div>

<p><strong>Find specific directories:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Find all __init__.py files (Python packages)</span>
**/__init__.py

<span class="c1"># Find all package.json files (Node modules)</span>
**/package.json
</code></pre></div>

<h3 id="glob-parameters">Glob Parameters<a class="headerlink" href="#glob-parameters" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;**/*.py&quot;</span><span class="w">           </span><span class="c1"># Required: glob pattern</span>
<span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;./src&quot;</span><span class="w">                </span><span class="c1"># Optional: base directory (default: current)</span>
<span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;file&quot;</span><span class="w">                 </span><span class="c1"># Optional: file, dir, or any (default: file)</span>
<span class="nt">include_ignored</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w">       </span><span class="c1"># Optional: search in node_modules, .venv, etc.</span>
<span class="nt">exclude</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;**/test_*.py&quot;</span><span class="p p-Indicator">]</span><span class="w">    </span><span class="c1"># Optional: patterns to exclude</span>
</code></pre></div>

<h3 id="glob-output">Glob Output<a class="headerlink" href="#glob-output" title="Permanent link">&para;</a></h3>
<p>Results are sorted by modification time (newest first) and limited to 500 files:</p>
<div class="codehilite"><pre><span></span><code>Files matched (250 of 500+ total):
  src/main.py
  src/utils.py
  tests/test_main.py
  ...

Note: Results limited to 500 files. 234 additional files not shown.
</code></pre></div>

<h2 id="grep-patterns">Grep Patterns<a class="headerlink" href="#grep-patterns" title="Permanent link">&para;</a></h2>
<p>Grep searches <em>inside</em> files using regular expressions. It's your content detective.</p>
<h3 id="basic-patterns_1">Basic Patterns<a class="headerlink" href="#basic-patterns_1" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># Find TODO comments</span>
TODO

<span class="c1"># Find function definitions (JavaScript)</span>
<span class="k">function</span><span class="se">\s</span>+<span class="se">\w</span>+

<span class="c1"># Find class definitions (Python)</span>
class<span class="se">\s</span>+<span class="se">\w</span>+

<span class="c1"># Find import statements</span>
import.*requests

<span class="c1"># Find error handling</span>
except<span class="se">\s</span>+<span class="se">\w</span>+Error

<span class="c1"># Case insensitive search</span>
-i:<span class="w"> </span><span class="nb">true</span>
pattern:<span class="w"> </span><span class="s2">&quot;error&quot;</span>
</code></pre></div>

<h3 id="regex-syntax">Regex Syntax<a class="headerlink" href="#regex-syntax" title="Permanent link">&para;</a></h3>
<p>Grep uses ripgrep regex (Rust flavor):</p>
<table>
<thead>
<tr>
<th>Pattern</th>
<th>Matches</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>.</code></td>
<td>Any character</td>
<td><code>log.</code> → <code>log1</code>, <code>logA</code></td>
</tr>
<tr>
<td><code>\d</code></td>
<td>Any digit</td>
<td><code>user\d+</code> → <code>user123</code></td>
</tr>
<tr>
<td><code>\w</code></td>
<td>Word character</td>
<td><code>\w+</code> → <code>hello</code></td>
</tr>
<tr>
<td><code>\s</code></td>
<td>Whitespace</td>
<td><code>if\s+</code> → <code>if</code></td>
</tr>
<tr>
<td><code>*</code></td>
<td>0 or more</td>
<td><code>error.*</code> → <code>error: failed</code></td>
</tr>
<tr>
<td><code>+</code></td>
<td>1 or more</td>
<td><code>\d+</code> → <code>123</code></td>
</tr>
<tr>
<td><code>?</code></td>
<td>0 or 1</td>
<td><code>colou?r</code> → <code>color</code>, <code>colour</code></td>
</tr>
<tr>
<td><code>^</code></td>
<td>Start of line</td>
<td><code>^import</code> → import at start</td>
</tr>
<tr>
<td><code>$</code></td>
<td>End of line</td>
<td><code>;$</code> → semicolon at end</td>
</tr>
<tr>
<td><code>[abc]</code></td>
<td>Character class</td>
<td><code>[Ee]rror</code> → Error, error</td>
</tr>
<tr>
<td><code>(a\|b)</code></td>
<td>Alternation</td>
<td><code>(get\|set)</code> → get or set</td>
</tr>
</tbody>
</table>
<p><strong>Important:</strong> Ripgrep requires escaping braces: <code>interface\{</code> to find <code>interface{</code></p>
<h3 id="output-modes">Output Modes<a class="headerlink" href="#output-modes" title="Permanent link">&para;</a></h3>
<p>Grep has three output modes for different needs:</p>
<h4 id="1-files_with_matches-default">1. files_with_matches (Default)<a class="headerlink" href="#1-files_with_matches-default" title="Permanent link">&para;</a></h4>
<p>Lists files containing matches (fastest):</p>
<div class="codehilite"><pre><span></span><code><span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;TODO&quot;</span>
<span class="nt">output_mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;files_with_matches&quot;</span>
</code></pre></div>

<p>Output:</p>
<div class="codehilite"><pre><span></span><code>src/main.py
src/utils.py
tests/test_main.py
</code></pre></div>

<p><strong>Use when:</strong> You just need to know <em>which</em> files contain something.</p>
<h4 id="2-content">2. content<a class="headerlink" href="#2-content" title="Permanent link">&para;</a></h4>
<p>Shows matching lines with content:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;def</span><span class="err">\</span><span class="s">s+</span><span class="err">\</span><span class="s">w+&quot;</span>
<span class="nt">output_mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;content&quot;</span>
</code></pre></div>

<p>Output:</p>
<div class="codehilite"><pre><span></span><code>src/main.py:
  15: def process_data(input):
  42: def validate_input(data):

src/utils.py:
  8: def helper_function():
</code></pre></div>

<p><strong>Use when:</strong> You need to see the actual matches.</p>
<h4 id="3-count">3. count<a class="headerlink" href="#3-count" title="Permanent link">&para;</a></h4>
<p>Shows count of matches per file:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;import&quot;</span>
<span class="nt">output_mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;count&quot;</span>
</code></pre></div>

<p>Output:</p>
<div class="codehilite"><pre><span></span><code>src/main.py: 15 matches
src/utils.py: 8 matches
tests/test_main.py: 12 matches
</code></pre></div>

<p><strong>Use when:</strong> You need statistics or metrics.</p>
<h3 id="content-mode-features">Content Mode Features<a class="headerlink" href="#content-mode-features" title="Permanent link">&para;</a></h3>
<p>When using <code>output_mode: "content"</code>, you get extra options:</p>
<p><strong>Line numbers</strong> (default: true):</p>
<div class="codehilite"><pre><span></span><code><span class="nt">-n</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w">  </span><span class="c1"># Show line numbers</span>
</code></pre></div>

<p><strong>Context lines:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nt">-A</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span><span class="w">  </span><span class="c1"># Show 2 lines AFTER match</span>
<span class="nt">-B</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span><span class="w">  </span><span class="c1"># Show 2 lines BEFORE match</span>
<span class="nt">-C</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span><span class="w">  </span><span class="c1"># Show 2 lines before AND after (context)</span>
</code></pre></div>

<p>Example with context:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;raise</span><span class="nv"> </span><span class="s">ValueError&quot;</span>
<span class="nt">output_mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;content&quot;</span>
<span class="nt">-C</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
</code></pre></div>

<p>Output:</p>
<div class="codehilite"><pre><span></span><code>src/main.py:
  28:     if not valid:
  29:         logger.error(&quot;Invalid input&quot;)
  30:         raise ValueError(&quot;Input validation failed&quot;)
  31:         return None
  32:     process(data)
</code></pre></div>

<h3 id="file-filtering">File Filtering<a class="headerlink" href="#file-filtering" title="Permanent link">&para;</a></h3>
<p><strong>By file type:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;TODO&quot;</span>
<span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;py&quot;</span><span class="w">  </span><span class="c1"># Search only Python files</span>
</code></pre></div>

<p>Supported types: <code>py</code>, <code>js</code>, <code>ts</code>, <code>go</code>, <code>rust</code>, <code>java</code>, <code>c</code>, <code>cpp</code>, <code>rb</code>, <code>sh</code>, <code>md</code>, <code>json</code>, <code>yaml</code>, <code>html</code>, <code>css</code>, <code>xml</code>, <code>php</code>, <code>sql</code>, <code>swift</code>, <code>lua</code>, <code>toml</code>, <code>txt</code></p>
<p><strong>By glob pattern:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;TODO&quot;</span>
<span class="nt">glob</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;**/*.{js,ts}&quot;</span><span class="w">  </span><span class="c1"># Search only JS/TS files</span>
</code></pre></div>

<p><strong>By path:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;test&quot;</span>
<span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;./tests&quot;</span><span class="w">  </span><span class="c1"># Search only in tests directory</span>
</code></pre></div>

<p><strong>Include ignored directories:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;config&quot;</span>
<span class="nt">include_ignored</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w">  </span><span class="c1"># Search in node_modules, .venv, etc.</span>
</code></pre></div>

<p>By default, grep excludes: <code>node_modules</code>, <code>.venv</code>, <code>.git</code>, <code>__pycache__</code>, <code>build</code>, <code>dist</code>, <code>.next</code>, <code>target</code></p>
<h3 id="multiline-patterns">Multiline Patterns<a class="headerlink" href="#multiline-patterns" title="Permanent link">&para;</a></h3>
<p>Search across multiple lines:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;function.*\\{.*\\}&quot;</span>
<span class="nt">multiline</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>

<p>This allows <code>.</code> to match newlines and patterns to span multiple lines.</p>
<h3 id="pagination">Pagination<a class="headerlink" href="#pagination" title="Permanent link">&para;</a></h3>
<p>Handle large result sets:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;import&quot;</span>
<span class="nt">head_limit</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100</span><span class="w">      </span><span class="c1"># Show first 100 results</span>
<span class="nt">offset</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span><span class="w">            </span><span class="c1"># Start from beginning</span>

<span class="c1"># For next page:</span>
<span class="nt">head_limit</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100</span>
<span class="nt">offset</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100</span><span class="w">          </span><span class="c1"># Skip first 100</span>
</code></pre></div>

<p>The response includes <code>total_matches</code> so you know how many exist.</p>
<h2 id="combining-tools">Combining Tools<a class="headerlink" href="#combining-tools" title="Permanent link">&para;</a></h2>
<p>The real power comes from using both tools together!</p>
<h3 id="pattern-1-narrow-down-files-first">Pattern 1: Narrow Down Files First<a class="headerlink" href="#pattern-1-narrow-down-files-first" title="Permanent link">&para;</a></h3>
<ol>
<li>Use <code>glob</code> to find candidate files</li>
<li>Use <code>grep</code> to search within those files</li>
</ol>
<div class="codehilite"><pre><span></span><code><span class="c1"># Step 1: Find all TypeScript files</span>
<span class="nt">glob</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;**/*.ts&quot;</span>

<span class="c1"># Step 2: Search for React hooks in those files</span>
<span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;use[A-Z]\\w+&quot;</span>
<span class="nt">glob</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;**/*.ts&quot;</span>
</code></pre></div>

<h3 id="pattern-2-search-then-explore">Pattern 2: Search Then Explore<a class="headerlink" href="#pattern-2-search-then-explore" title="Permanent link">&para;</a></h3>
<ol>
<li>Use <code>grep</code> to find files with matches</li>
<li>Read those files to see context</li>
</ol>
<div class="codehilite"><pre><span></span><code><span class="c1"># Step 1: Find files with TODO comments</span>
<span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;TODO&quot;</span>
<span class="nt">output_mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;files_with_matches&quot;</span>

<span class="c1"># Step 2: Read specific files</span>
<span class="c1"># (Use read_file tool on results)</span>
</code></pre></div>

<h3 id="pattern-3-iterative-refinement">Pattern 3: Iterative Refinement<a class="headerlink" href="#pattern-3-iterative-refinement" title="Permanent link">&para;</a></h3>
<p>Start broad, narrow down:</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Round 1: Find all error handling</span>
<span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;except&quot;</span>
<span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;py&quot;</span>

<span class="c1"># Round 2: Find specific exception types</span>
<span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;except\\s+(ValueError|TypeError)&quot;</span>
<span class="nt">output_mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;content&quot;</span>

<span class="c1"># Round 3: Add context to see full try/except blocks</span>
<span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;except\\s+(ValueError|TypeError)&quot;</span>
<span class="nt">output_mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;content&quot;</span>
<span class="nt">-C</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
</code></pre></div>

<h2 id="best-practices">Best Practices<a class="headerlink" href="#best-practices" title="Permanent link">&para;</a></h2>
<h3 id="performance-tips">Performance Tips<a class="headerlink" href="#performance-tips" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Use file type filters</strong>: <code>type: "py"</code> is faster than searching all files</li>
<li><strong>Specify paths</strong>: Searching <code>./src</code> is faster than entire project</li>
<li><strong>Start with files_with_matches</strong>: Cheapest output mode</li>
<li><strong>Use head_limit</strong>: Limit results to prevent overwhelming context</li>
</ol>
<h3 id="search-strategy">Search Strategy<a class="headerlink" href="#search-strategy" title="Permanent link">&para;</a></h3>
<p><strong>For unknown codebases:</strong></p>
<div class="codehilite"><pre><span></span><code>1. glob → Find what files exist
2. grep (files_with_matches) → Find relevant files
3. grep (content) → See actual code
4. read_file → Read full context
</code></pre></div>

<p><strong>For specific searches:</strong></p>
<div class="codehilite"><pre><span></span><code>1. Combine grep with type/glob filters immediately
2. Use content mode with context (-C)
3. Read promising files
</code></pre></div>

<h3 id="common-patterns">Common Patterns<a class="headerlink" href="#common-patterns" title="Permanent link">&para;</a></h3>
<p><strong>Find API endpoints:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;@(app|router)\\.(get|post|put|delete)&quot;</span>
<span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;py&quot;</span>
<span class="nt">output_mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;content&quot;</span>
</code></pre></div>

<p><strong>Find environment variables:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;os\\.environ|process\\.env&quot;</span>
<span class="nt">output_mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;content&quot;</span>
</code></pre></div>

<p><strong>Find security issues:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;(eval|exec|system|shell_exec)\\(&quot;</span>
<span class="nt">output_mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;content&quot;</span>
<span class="nt">-C</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
</code></pre></div>

<p><strong>Find deprecated code:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;@deprecated|DEPRECATED|FIXME&quot;</span>
<span class="nt">output_mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;content&quot;</span>
</code></pre></div>

<h2 id="try-it-yourself">Try It Yourself<a class="headerlink" href="#try-it-yourself" title="Permanent link">&para;</a></h2>
<h3 id="exercise-1-find-all-tests">Exercise 1: Find All Tests<a class="headerlink" href="#exercise-1-find-all-tests" title="Permanent link">&para;</a></h3>
<p>Find all test files in your project:</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Glob approach:</span>
<span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;**/test_*.py&quot;</span>
</code></pre></div>

<h3 id="exercise-2-find-unused-imports">Exercise 2: Find Unused Imports<a class="headerlink" href="#exercise-2-find-unused-imports" title="Permanent link">&para;</a></h3>
<p>Search for imports that might be unused:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;^import\\s+\\w+&quot;</span>
<span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;py&quot;</span>
<span class="nt">output_mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;content&quot;</span>
</code></pre></div>

<h3 id="exercise-3-configuration-audit">Exercise 3: Configuration Audit<a class="headerlink" href="#exercise-3-configuration-audit" title="Permanent link">&para;</a></h3>
<p>Find all configuration values:</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Find config files</span>
<span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;**/*.{json,yaml,yml,toml}&quot;</span>

<span class="c1"># Then search for secrets/credentials</span>
<span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;(password|secret|api_key|token)&quot;</span>
<span class="nt">-i</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="nt">output_mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;content&quot;</span>
</code></pre></div>

<h3 id="exercise-4-code-complexity">Exercise 4: Code Complexity<a class="headerlink" href="#exercise-4-code-complexity" title="Permanent link">&para;</a></h3>
<p>Find long functions (might need refactoring):</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Find function definitions</span>
<span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;^(def|function)\\s+\\w+&quot;</span>
<span class="nt">output_mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;content&quot;</span>
<span class="nt">-A</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50</span><span class="w">  </span><span class="c1"># Show next 50 lines to see function size</span>
</code></pre></div>

<h2 id="common-errors">Common Errors<a class="headerlink" href="#common-errors" title="Permanent link">&para;</a></h2>
<h3 id="glob-errors">Glob Errors<a class="headerlink" href="#glob-errors" title="Permanent link">&para;</a></h3>
<p><strong>"No files matched pattern"</strong>
- Check your pattern syntax
- Try simpler patterns first: <code>*.py</code> before <code>**/*.py</code>
- Verify you're in the right directory
- Use <code>include_ignored: true</code> if searching excluded dirs</p>
<p><strong>"Too many results (&gt;500)"</strong>
- Be more specific with your pattern
- Search in a subdirectory: <code>path: "./src"</code>
- Use exclude patterns: <code>exclude: ["**/node_modules/**"]</code></p>
<h3 id="grep-errors">Grep Errors<a class="headerlink" href="#grep-errors" title="Permanent link">&para;</a></h3>
<p><strong>"Pattern not found"</strong>
- Verify regex syntax (ripgrep flavor)
- Try case insensitive: <code>-i: true</code>
- Check file type filter: <code>type: "py"</code>
- Use simpler pattern first, then refine</p>
<p><strong>"Results truncated"</strong>
- This is normal! Results are limited for performance
- Use <code>head_limit</code> and <code>offset</code> for pagination
- Consider narrowing search with <code>path</code> or <code>type</code></p>
<p><strong>"Regex syntax error"</strong>
- Escape special characters: <code>\{</code>, <code>\(</code>, <code>\.</code>
- Use raw strings in your mind: <code>\\</code> for backslash
- Test simpler patterns first</p>
<p><strong>"Multiline not working"</strong>
- Set <code>multiline: true</code> explicitly
- Remember <code>.</code> now matches newlines
- Patterns can span lines: <code>function.*\\{.*\\}</code></p>
<h3 id="pro-tips">Pro Tips<a class="headerlink" href="#pro-tips" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Test patterns incrementally</strong>: Start simple, add complexity</li>
<li><strong>Use files_with_matches first</strong>: See what files match before getting content</li>
<li><strong>Combine with read_file</strong>: Grep finds it, read_file shows full context</li>
<li><strong>Watch output limits</strong>: Default limits prevent context overflow</li>
<li><strong>Case sensitivity matters</strong>: Use <code>-i: true</code> when unsure</li>
<li><strong>Escape ripgrep regex</strong>: <code>\{</code> <code>\}</code> <code>\(</code> <code>\)</code> need escaping</li>
</ol>
<hr />
<p><strong>Next Steps:</strong>
- Practice with your own codebase
- Combine with other tools like <code>read_file</code> and <code>bash</code>
- Learn advanced regex patterns
- Build search workflows for common tasks</p>
<p><strong>Related Tools:</strong>
- <code>read_file</code> - Read full file content after finding matches
- <code>bash</code> - Use shell commands like <code>find</code> or <code>ag</code> if needed
- <code>task:explorer</code> - For complex multi-step searches</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="bash.html" class="btn btn-neutral float-left" title="Bash"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="web.html" class="btn btn-neutral float-right" title="Web Tools">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="bash.html" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="web.html" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
